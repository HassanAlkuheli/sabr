server {
    listen 80;
    server_name _;

    root /usr/share/nginx/html;
    index index.html index.htm;

    location / {
        # Serve the exact file, then try adding .html, then directory index, then autoindex
        try_files $uri $uri/ $uri.html $uri/index.html @autoindex;
    }

    location @autoindex {
        autoindex on;
        autoindex_exact_size off;
        autoindex_localtime on;
    }

    # Handle direct .html requests that may 404
    error_page 404 /index.html;
    error_page 403 =404 /;
}
